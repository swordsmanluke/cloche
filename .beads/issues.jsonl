{"id":"cloche-0aa","title":"Evolution Classifier stage","description":"LLM-based classification of run prompts into bug/feedback/feature/enhancement/chore. See Task 10 in docs/plans/2026-02-24-self-evolution-implementation.md","status":"closed","priority":2,"issue_type":"task","owner":"lucas@perfectlunacy.com","estimated_minutes":15,"created_at":"2026-02-24T10:07:52.699618555-08:00","created_by":"lucas","updated_at":"2026-02-24T10:34:26.694741926-08:00","closed_at":"2026-02-24T10:34:26.694741926-08:00","close_reason":"Closed","labels":["evolution"],"dependencies":[{"issue_id":"cloche-0aa","depends_on_id":"cloche-9ud","type":"blocks","created_at":"2026-02-24T10:09:29.850421963-08:00","created_by":"lucas"}]}
{"id":"cloche-0yn","title":"TOML config system","description":"Add config package with Load() for .cloche/config. Support [evolution] section with enabled, debounce_seconds, min_confidence, max_prompt_bullets. See Task 8 in docs/plans/2026-02-24-self-evolution-implementation.md","status":"closed","priority":2,"issue_type":"task","owner":"lucas@perfectlunacy.com","estimated_minutes":15,"created_at":"2026-02-24T10:07:35.362293737-08:00","created_by":"lucas","updated_at":"2026-02-24T10:23:16.797914218-08:00","closed_at":"2026-02-24T10:23:16.797914218-08:00","close_reason":"Closed","labels":["evolution"]}
{"id":"cloche-0z1","title":"Wire cloche CLI binary","description":"CLI client with run/status/list/stop subcommands over gRPC. See implementation plan Task 16.","status":"closed","priority":0,"issue_type":"task","owner":"lucas@perfectlunacy.com","created_at":"2026-02-20T11:04:18.89421394-08:00","created_by":"lucas","updated_at":"2026-02-20T13:22:06.329718638-08:00","closed_at":"2026-02-20T13:22:06.329718638-08:00","close_reason":"Closed","dependencies":[{"issue_id":"cloche-0z1","depends_on_id":"cloche-nq9","type":"blocks","created_at":"2026-02-20T11:04:18.895418456-08:00","created_by":"lucas"}]}
{"id":"cloche-0zu","title":"Update generic adapter to use result extraction","description":"- type: task","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-02-20T20:21:14.714017336-08:00","updated_at":"2026-02-20T20:23:00.287387199-08:00","deleted_at":"2026-02-20T20:23:00.287387199-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"cloche-1r0","title":"Rewrite engine as DAG walker","description":"Replace linear engine loop with concurrent DAG walker. Track active steps, pending collects, and completed results. Goroutines and channels. Validate results against declared list. Fanout and collect support. Implementation plan Task 8.","status":"closed","priority":2,"issue_type":"task","owner":"lucas@perfectlunacy.com","created_at":"2026-02-20T20:25:12.32885009-08:00","created_by":"lucas","updated_at":"2026-02-20T20:50:29.533256069-08:00","closed_at":"2026-02-20T20:50:29.533258483-08:00","dependencies":[{"issue_id":"cloche-1r0","depends_on_id":"cloche-nh0","type":"blocks","created_at":"2026-02-20T20:25:12.330042036-08:00","created_by":"lucas"},{"issue_id":"cloche-1r0","depends_on_id":"cloche-cow","type":"blocks","created_at":"2026-02-20T20:25:12.33160231-08:00","created_by":"lucas"}]}
{"id":"cloche-2nb","title":"Update generic adapter to use result extraction","description":"Replace resultOrDefault with protocol.ExtractResult. Marker overrides exit code. Exit 0 = success, non-zero = fail as fallback. Update tests. Implementation plan Task 4.","status":"closed","priority":2,"issue_type":"task","owner":"lucas@perfectlunacy.com","created_at":"2026-02-20T20:24:52.027891556-08:00","created_by":"lucas","updated_at":"2026-02-20T20:39:43.928824823-08:00","closed_at":"2026-02-20T20:39:43.928828069-08:00","dependencies":[{"issue_id":"cloche-2nb","depends_on_id":"cloche-8ze","type":"blocks","created_at":"2026-02-20T20:24:52.029049218-08:00","created_by":"lucas"}]}
{"id":"cloche-3hj","title":"Audit Logger","description":"JSONL append-only log, file snapshots for revert, knowledge base updates. See Task 15 in docs/plans/2026-02-24-self-evolution-implementation.md","status":"closed","priority":2,"issue_type":"task","owner":"lucas@perfectlunacy.com","estimated_minutes":15,"created_at":"2026-02-24T10:07:52.892498677-08:00","created_by":"lucas","updated_at":"2026-02-24T10:41:50.566081025-08:00","closed_at":"2026-02-24T10:41:50.566081025-08:00","close_reason":"Closed","labels":["evolution"],"dependencies":[{"issue_id":"cloche-3hj","depends_on_id":"cloche-9ud","type":"blocks","created_at":"2026-02-24T10:09:29.989064368-08:00","created_by":"lucas"}]}
{"id":"cloche-3it","title":"Wire cloche-agent binary","description":"First vertical slice: agent parses workflow file, walks graph, executes steps, streams status. See implementation plan Task 10.","status":"closed","priority":0,"issue_type":"task","owner":"lucas@perfectlunacy.com","created_at":"2026-02-20T11:04:18.640304428-08:00","created_by":"lucas","updated_at":"2026-02-20T12:12:10.062003732-08:00","closed_at":"2026-02-20T12:12:10.062003732-08:00","close_reason":"Closed","dependencies":[{"issue_id":"cloche-3it","depends_on_id":"cloche-u6c","type":"blocks","created_at":"2026-02-20T11:04:18.642661493-08:00","created_by":"lucas"},{"issue_id":"cloche-3it","depends_on_id":"cloche-cit","type":"blocks","created_at":"2026-02-20T11:04:18.645862723-08:00","created_by":"lucas"},{"issue_id":"cloche-3it","depends_on_id":"cloche-ehk","type":"blocks","created_at":"2026-02-20T11:04:18.648881668-08:00","created_by":"lucas"},{"issue_id":"cloche-3it","depends_on_id":"cloche-hu2","type":"blocks","created_at":"2026-02-20T11:04:18.65184022-08:00","created_by":"lucas"}]}
{"id":"cloche-408","title":"Update validation for collects","description":"- type: task","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-02-20T20:21:14.71625162-08:00","updated_at":"2026-02-20T20:23:00.287387199-08:00","deleted_at":"2026-02-20T20:23:00.287387199-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"cloche-44q","title":"LLM Client implementation","description":"CommandLLMClient that shells out to claude -p for evolution LLM calls. See Task 17 in docs/plans/2026-02-24-self-evolution-implementation.md","status":"closed","priority":2,"issue_type":"task","owner":"lucas@perfectlunacy.com","estimated_minutes":10,"created_at":"2026-02-24T10:07:52.968002091-08:00","created_by":"lucas","updated_at":"2026-02-24T10:41:50.602697313-08:00","closed_at":"2026-02-24T10:41:50.602697313-08:00","close_reason":"Closed","labels":["evolution"],"dependencies":[{"issue_id":"cloche-44q","depends_on_id":"cloche-9ud","type":"blocks","created_at":"2026-02-24T10:09:30.164783645-08:00","created_by":"lucas"}]}
{"id":"cloche-49c","title":"SQLite RunStore adapter","description":"SQLite implementation of RunStore and CaptureStore. See implementation plan Task 11.","status":"closed","priority":1,"issue_type":"task","owner":"lucas@perfectlunacy.com","created_at":"2026-02-20T11:04:18.690759403-08:00","created_by":"lucas","updated_at":"2026-02-20T12:08:18.795444043-08:00","closed_at":"2026-02-20T12:08:18.795444043-08:00","close_reason":"SQLite RunStore + CaptureStore with migrations","dependencies":[{"issue_id":"cloche-49c","depends_on_id":"cloche-kcf","type":"blocks","created_at":"2026-02-20T11:04:18.691929875-08:00","created_by":"lucas"}]}
{"id":"cloche-4eh","title":"Wire cloched daemon binary","description":"Daemon main: gRPC server, SQLite store, Unix socket listener, graceful shutdown. See implementation plan Task 15.","status":"closed","priority":0,"issue_type":"task","owner":"lucas@perfectlunacy.com","created_at":"2026-02-20T11:04:18.852314324-08:00","created_by":"lucas","updated_at":"2026-02-20T13:22:06.36508835-08:00","closed_at":"2026-02-20T13:22:06.36508835-08:00","close_reason":"Closed","dependencies":[{"issue_id":"cloche-4eh","depends_on_id":"cloche-95g","type":"blocks","created_at":"2026-02-20T11:04:18.853504403-08:00","created_by":"lucas"},{"issue_id":"cloche-4eh","depends_on_id":"cloche-l1z","type":"blocks","created_at":"2026-02-20T11:04:18.855135445-08:00","created_by":"lucas"}]}
{"id":"cloche-4ie","title":"Daemon trigger and debounce","description":"Evolution trigger with per-project+workflow debounce, mutex to prevent concurrent passes. Wire into trackRun() in gRPC server. See Task 18 in docs/plans/2026-02-24-self-evolution-implementation.md","status":"closed","priority":2,"issue_type":"task","owner":"lucas@perfectlunacy.com","estimated_minutes":25,"created_at":"2026-02-24T10:07:53.005657166-08:00","created_by":"lucas","updated_at":"2026-02-24T11:09:26.969048189-08:00","closed_at":"2026-02-24T11:09:26.969048189-08:00","close_reason":"Closed","labels":["evolution"],"dependencies":[{"issue_id":"cloche-4ie","depends_on_id":"cloche-y5x","type":"blocks","created_at":"2026-02-24T10:09:30.200543366-08:00","created_by":"lucas"},{"issue_id":"cloche-4ie","depends_on_id":"cloche-59l","type":"blocks","created_at":"2026-02-24T10:09:30.237425411-08:00","created_by":"lucas"},{"issue_id":"cloche-4ie","depends_on_id":"cloche-0yn","type":"blocks","created_at":"2026-02-24T10:09:30.272518315-08:00","created_by":"lucas"}]}
{"id":"cloche-4qd","title":"Replace NextStep with NextSteps","description":"- type: task","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-02-20T20:21:14.712559443-08:00","updated_at":"2026-02-20T20:23:00.287387199-08:00","deleted_at":"2026-02-20T20:23:00.287387199-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"cloche-52f","title":"Run and Capture domain types","description":"Run, StepExecution, RunState types with lifecycle methods. See implementation plan Task 3.","status":"closed","priority":1,"issue_type":"task","owner":"lucas@perfectlunacy.com","created_at":"2026-02-20T11:04:18.349277238-08:00","created_by":"lucas","updated_at":"2026-02-20T12:05:00.4109792-08:00","closed_at":"2026-02-20T12:05:00.4109792-08:00","close_reason":"Run, StepExecution types with lifecycle methods","dependencies":[{"issue_id":"cloche-52f","depends_on_id":"cloche-fv2","type":"blocks","created_at":"2026-02-20T11:04:18.350429185-08:00","created_by":"lucas"}]}
{"id":"cloche-59l","title":"Daemon capture storage","description":"Update trackRun() to extract and store new fields from status messages. Set ProjectDir on run record. See Task 7 in docs/plans/2026-02-24-self-evolution-implementation.md","status":"closed","priority":2,"issue_type":"task","owner":"lucas@perfectlunacy.com","estimated_minutes":15,"created_at":"2026-02-24T10:07:35.32137865-08:00","created_by":"lucas","updated_at":"2026-02-24T10:41:50.493099344-08:00","closed_at":"2026-02-24T10:41:50.493099344-08:00","close_reason":"Closed","labels":["evolution"],"dependencies":[{"issue_id":"cloche-59l","depends_on_id":"cloche-d3p","type":"blocks","created_at":"2026-02-24T10:09:29.744330962-08:00","created_by":"lucas"},{"issue_id":"cloche-59l","depends_on_id":"cloche-myv","type":"blocks","created_at":"2026-02-24T10:09:29.78002563-08:00","created_by":"lucas"}]}
{"id":"cloche-5bj","title":"Update example workflows","description":"Rename pass to success in all example workflows. Update fix step results. Update wiring accordingly. Implementation plan Task 11.","status":"closed","priority":2,"issue_type":"task","owner":"lucas@perfectlunacy.com","created_at":"2026-02-20T20:25:12.45023414-08:00","created_by":"lucas","updated_at":"2026-02-20T20:54:37.915671326-08:00","closed_at":"2026-02-20T20:54:37.915674693-08:00","dependencies":[{"issue_id":"cloche-5bj","depends_on_id":"cloche-2nb","type":"blocks","created_at":"2026-02-20T20:25:12.452228195-08:00","created_by":"lucas"},{"issue_id":"cloche-5bj","depends_on_id":"cloche-88j","type":"blocks","created_at":"2026-02-20T20:25:12.45529421-08:00","created_by":"lucas"}]}
{"id":"cloche-5jq","title":"Update Run model for concurrent steps","description":"Replace CurrentStep with ActiveSteps []string in domain.Run. Update RecordStepStart/RecordStepComplete. Fix all callers. Implementation plan Task 9.","status":"closed","priority":2,"issue_type":"task","owner":"lucas@perfectlunacy.com","created_at":"2026-02-20T20:25:12.369774283-08:00","created_by":"lucas","updated_at":"2026-02-20T20:54:37.880612017-08:00","closed_at":"2026-02-20T20:54:37.880615303-08:00","dependencies":[{"issue_id":"cloche-5jq","depends_on_id":"cloche-1r0","type":"blocks","created_at":"2026-02-20T20:25:12.370864647-08:00","created_by":"lucas"}]}
{"id":"cloche-5yt","title":"Update runner and status reporting","description":"- type: task","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-02-20T20:21:14.718466959-08:00","updated_at":"2026-02-20T20:23:00.287387199-08:00","deleted_at":"2026-02-20T20:23:00.287387199-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"cloche-76q","title":"Full integration test pass","description":"Run go test and go vet to verify everything works end to end. Fix any remaining issues. Implementation plan Task 12.","status":"closed","priority":2,"issue_type":"task","owner":"lucas@perfectlunacy.com","created_at":"2026-02-20T20:25:12.493851051-08:00","created_by":"lucas","updated_at":"2026-02-20T21:02:28.815866163-08:00","closed_at":"2026-02-20T21:02:28.815868458-08:00","dependencies":[{"issue_id":"cloche-76q","depends_on_id":"cloche-h9t","type":"blocks","created_at":"2026-02-20T20:25:12.495079326-08:00","created_by":"lucas"},{"issue_id":"cloche-76q","depends_on_id":"cloche-5bj","type":"blocks","created_at":"2026-02-20T20:25:12.496694304-08:00","created_by":"lucas"}]}
{"id":"cloche-88j","title":"Update prompt adapter to use result extraction","description":"Inject result selection instructions into assembled prompt and use protocol.ExtractResult to parse LLM output. Remove resultOrDefault. Update tests. Implementation plan Task 5.","status":"closed","priority":2,"issue_type":"task","owner":"lucas@perfectlunacy.com","created_at":"2026-02-20T20:24:52.067985163-08:00","created_by":"lucas","updated_at":"2026-02-20T20:39:43.966435416-08:00","closed_at":"2026-02-20T20:39:43.966438292-08:00","dependencies":[{"issue_id":"cloche-88j","depends_on_id":"cloche-8ze","type":"blocks","created_at":"2026-02-20T20:24:52.069151601-08:00","created_by":"lucas"}]}
{"id":"cloche-8bi","title":"DSL lexer","description":"Tokenizer for the Cloche workflow DSL. Token types, Lexer with NextToken(). See implementation plan Task 4.","status":"closed","priority":1,"issue_type":"task","owner":"lucas@perfectlunacy.com","created_at":"2026-02-20T11:04:18.389025368-08:00","created_by":"lucas","updated_at":"2026-02-20T12:05:00.44646389-08:00","closed_at":"2026-02-20T12:05:00.44646389-08:00","close_reason":"Lexer with all token types, comments, arrows","dependencies":[{"issue_id":"cloche-8bi","depends_on_id":"cloche-fv2","type":"blocks","created_at":"2026-02-20T11:04:18.390262837-08:00","created_by":"lucas"}]}
{"id":"cloche-8td","title":"Add domain types for Collect","description":"- type: task","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-02-20T20:21:14.711618079-08:00","updated_at":"2026-02-20T20:23:00.287387199-08:00","deleted_at":"2026-02-20T20:23:00.287387199-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"cloche-8ze","title":"Add result extraction protocol","description":"Create internal/protocol/result.go with ExtractResult function that scans output for CLOCHE_RESULT marker. Last marker wins. Returns clean output with markers stripped. Implementation plan Task 3.","status":"closed","priority":2,"issue_type":"task","owner":"lucas@perfectlunacy.com","created_at":"2026-02-20T20:24:24.152958495-08:00","created_by":"lucas","updated_at":"2026-02-20T20:31:16.342627663-08:00","closed_at":"2026-02-20T20:31:16.342630989-08:00"}
{"id":"cloche-95g","title":"gRPC server (daemon side)","description":"ClocheServer implementing the gRPC service with RunStore backend. See implementation plan Task 13.","status":"closed","priority":1,"issue_type":"task","owner":"lucas@perfectlunacy.com","created_at":"2026-02-20T11:04:18.77088948-08:00","created_by":"lucas","updated_at":"2026-02-20T13:05:56.205201841-08:00","closed_at":"2026-02-20T13:05:56.205201841-08:00","close_reason":"Closed","dependencies":[{"issue_id":"cloche-95g","depends_on_id":"cloche-49c","type":"blocks","created_at":"2026-02-20T11:04:18.772095809-08:00","created_by":"lucas"},{"issue_id":"cloche-95g","depends_on_id":"cloche-nq9","type":"blocks","created_at":"2026-02-20T11:04:18.77372075-08:00","created_by":"lucas"}]}
{"id":"cloche-9ud","title":"Evolution Collector stage","description":"Gather runs since last evolution, knowledge base, current prompts, current workflow. See Task 9 in docs/plans/2026-02-24-self-evolution-implementation.md","status":"closed","priority":2,"issue_type":"task","owner":"lucas@perfectlunacy.com","estimated_minutes":20,"created_at":"2026-02-24T10:07:52.658144322-08:00","created_by":"lucas","updated_at":"2026-02-24T10:34:26.658653494-08:00","closed_at":"2026-02-24T10:34:26.658653494-08:00","close_reason":"Closed","labels":["evolution"],"dependencies":[{"issue_id":"cloche-9ud","depends_on_id":"cloche-sdc","type":"blocks","created_at":"2026-02-24T10:09:29.815486827-08:00","created_by":"lucas"}]}
{"id":"cloche-ajt","title":"Parse collect in DSL","description":"- type: task","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-02-20T20:21:14.715518611-08:00","updated_at":"2026-02-20T20:23:00.287387199-08:00","deleted_at":"2026-02-20T20:23:00.287387199-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"cloche-aw5","title":"Prompt adapter capture mechanism","description":"Add CapturedData struct and OnCapture callback to prompt Adapter. Capture assembled prompt and agent stdout. See Task 5 in docs/plans/2026-02-24-self-evolution-implementation.md","status":"closed","priority":2,"issue_type":"task","owner":"lucas@perfectlunacy.com","estimated_minutes":15,"created_at":"2026-02-24T10:07:35.237187446-08:00","created_by":"lucas","updated_at":"2026-02-24T10:34:26.623518884-08:00","closed_at":"2026-02-24T10:34:26.623518884-08:00","close_reason":"Closed","labels":["evolution"],"dependencies":[{"issue_id":"cloche-aw5","depends_on_id":"cloche-zgh","type":"blocks","created_at":"2026-02-24T10:09:29.674583211-08:00","created_by":"lucas"}]}
{"id":"cloche-cit","title":"Graph engine","description":"Engine that walks a Workflow graph, executes steps via StepExecutor interface, follows results. See implementation plan Task 6.","status":"closed","priority":1,"issue_type":"task","owner":"lucas@perfectlunacy.com","created_at":"2026-02-20T11:04:18.472495908-08:00","created_by":"lucas","updated_at":"2026-02-20T12:06:53.613206074-08:00","closed_at":"2026-02-20T12:06:53.613206074-08:00","close_reason":"Graph walker with retry, abort, cancellation, max steps","dependencies":[{"issue_id":"cloche-cit","depends_on_id":"cloche-ucq","type":"blocks","created_at":"2026-02-20T11:04:18.473694093-08:00","created_by":"lucas"},{"issue_id":"cloche-cit","depends_on_id":"cloche-52f","type":"blocks","created_at":"2026-02-20T11:04:18.475284248-08:00","created_by":"lucas"}]}
{"id":"cloche-cow","title":"Update validation for collects","description":"Extend Workflow.Validate to check collect conditions reference real steps and declared results, targets exist, and results in collects count as wired. Implementation plan Task 7.","status":"closed","priority":2,"issue_type":"task","owner":"lucas@perfectlunacy.com","created_at":"2026-02-20T20:25:12.284701944-08:00","created_by":"lucas","updated_at":"2026-02-20T20:43:59.842939886-08:00","closed_at":"2026-02-20T20:43:59.842942451-08:00","dependencies":[{"issue_id":"cloche-cow","depends_on_id":"cloche-lgy","type":"blocks","created_at":"2026-02-20T20:25:12.28584644-08:00","created_by":"lucas"},{"issue_id":"cloche-cow","depends_on_id":"cloche-i6e","type":"blocks","created_at":"2026-02-20T20:25:12.28754196-08:00","created_by":"lucas"}]}
{"id":"cloche-ctn","title":"Update prompt adapter to use result extraction","description":"- type: task","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-02-20T20:21:14.714756897-08:00","updated_at":"2026-02-20T20:23:00.287387199-08:00","deleted_at":"2026-02-20T20:23:00.287387199-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"cloche-cu5","title":"Script Generator (Branch B)","description":"LLM code generation for new checker/linter scripts. Write files with executable permissions. See Task 13 in docs/plans/2026-02-24-self-evolution-implementation.md","status":"closed","priority":2,"issue_type":"task","owner":"lucas@perfectlunacy.com","estimated_minutes":15,"created_at":"2026-02-24T10:07:52.815800912-08:00","created_by":"lucas","updated_at":"2026-02-24T11:03:14.150493853-08:00","closed_at":"2026-02-24T11:03:14.150493853-08:00","close_reason":"Closed","labels":["evolution"],"dependencies":[{"issue_id":"cloche-cu5","depends_on_id":"cloche-osk","type":"blocks","created_at":"2026-02-24T10:09:29.953683522-08:00","created_by":"lucas"}]}
{"id":"cloche-d3p","title":"Wire capture through runner to status protocol","description":"Connect prompt adapter OnCapture to StatusWriter in runner. Emit new status messages with prompt/output data. See Task 6 in docs/plans/2026-02-24-self-evolution-implementation.md","status":"closed","priority":2,"issue_type":"task","owner":"lucas@perfectlunacy.com","estimated_minutes":20,"created_at":"2026-02-24T10:07:35.279067432-08:00","created_by":"lucas","updated_at":"2026-02-24T10:41:50.456338633-08:00","closed_at":"2026-02-24T10:41:50.456338633-08:00","close_reason":"Closed","labels":["evolution"],"dependencies":[{"issue_id":"cloche-d3p","depends_on_id":"cloche-aw5","type":"blocks","created_at":"2026-02-24T10:09:29.709590864-08:00","created_by":"lucas"}]}
{"id":"cloche-e5l","title":"Extend domain types for evolution","description":"Add ProjectDir to Run, PromptText/AgentOutput/AttemptNumber to StepExecution. See Task 1 in docs/plans/2026-02-24-self-evolution-implementation.md","status":"closed","priority":2,"issue_type":"task","owner":"lucas@perfectlunacy.com","estimated_minutes":15,"created_at":"2026-02-24T10:07:19.905746313-08:00","created_by":"lucas","updated_at":"2026-02-24T10:18:21.450840016-08:00","closed_at":"2026-02-24T10:18:21.450840016-08:00","close_reason":"Closed","labels":["evolution"]}
{"id":"cloche-e8j","title":"Final verification","description":"Run all tests, go vet, build all three binaries. See Task 20 in docs/plans/2026-02-24-self-evolution-implementation.md","status":"closed","priority":2,"issue_type":"task","owner":"lucas@perfectlunacy.com","estimated_minutes":10,"created_at":"2026-02-24T10:07:53.084994325-08:00","created_by":"lucas","updated_at":"2026-02-24T11:10:38.876152594-08:00","closed_at":"2026-02-24T11:10:38.876152594-08:00","close_reason":"Closed","labels":["evolution"],"dependencies":[{"issue_id":"cloche-e8j","depends_on_id":"cloche-vrg","type":"blocks","created_at":"2026-02-24T10:09:30.345650956-08:00","created_by":"lucas"}]}
{"id":"cloche-ehk","title":"JSON-lines status protocol","description":"StatusWriter and ParseStatusStream for agent-daemon communication. See implementation plan Task 7.","status":"closed","priority":2,"issue_type":"task","owner":"lucas@perfectlunacy.com","created_at":"2026-02-20T11:04:18.513987653-08:00","created_by":"lucas","updated_at":"2026-02-20T12:05:00.484197544-08:00","closed_at":"2026-02-20T12:05:00.484197544-08:00","close_reason":"StatusWriter and ParseStatusStream with JSON-lines","dependencies":[{"issue_id":"cloche-ehk","depends_on_id":"cloche-fv2","type":"blocks","created_at":"2026-02-20T11:04:18.515306806-08:00","created_by":"lucas"}]}
{"id":"cloche-ewt","title":"Full integration test pass","description":"- type: task","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-02-20T20:21:14.719958255-08:00","updated_at":"2026-02-20T20:23:00.287387199-08:00","deleted_at":"2026-02-20T20:23:00.287387199-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"cloche-f29","title":"End-to-end smoke test","description":"Integration test: write workflow to temp dir, run via agent.Runner, verify status output. See implementation plan Task 17.","status":"closed","priority":1,"issue_type":"task","owner":"lucas@perfectlunacy.com","created_at":"2026-02-20T11:04:18.935709492-08:00","created_by":"lucas","updated_at":"2026-02-20T13:04:21.9009709-08:00","closed_at":"2026-02-20T13:04:21.9009709-08:00","close_reason":"Closed","dependencies":[{"issue_id":"cloche-f29","depends_on_id":"cloche-3it","type":"blocks","created_at":"2026-02-20T11:04:18.936885133-08:00","created_by":"lucas"}]}
{"id":"cloche-fv2","title":"Initialize Go module and directory structure","description":"Go mod init, directory structure, placeholder mains, Makefile. See docs/plans/2026-02-20-cloche-implementation.md Task 1.","status":"closed","priority":1,"issue_type":"task","owner":"lucas@perfectlunacy.com","created_at":"2026-02-20T11:04:18.265042704-08:00","created_by":"lucas","updated_at":"2026-02-20T11:58:14.2185808-08:00","closed_at":"2026-02-20T11:58:14.2185808-08:00","close_reason":"Go module, directory structure, Makefile, 3 placeholder mains"}
{"id":"cloche-h9t","title":"Update runner and status reporting","description":"Verify runner compiles with new engine API and ActiveSteps model. Update any references to CurrentStep. Implementation plan Task 10.","status":"closed","priority":2,"issue_type":"task","owner":"lucas@perfectlunacy.com","created_at":"2026-02-20T20:25:12.409461364-08:00","created_by":"lucas","updated_at":"2026-02-20T20:58:54.111225263-08:00","closed_at":"2026-02-20T20:58:54.11122905-08:00","dependencies":[{"issue_id":"cloche-h9t","depends_on_id":"cloche-5jq","type":"blocks","created_at":"2026-02-20T20:25:12.410614738-08:00","created_by":"lucas"}]}
{"id":"cloche-hu2","title":"Generic agent adapter","description":"Script executor adapter: runs shell commands, maps exit codes to results. See implementation plan Task 9.","status":"closed","priority":1,"issue_type":"task","owner":"lucas@perfectlunacy.com","created_at":"2026-02-20T11:04:18.597034503-08:00","created_by":"lucas","updated_at":"2026-02-20T12:08:18.760870656-08:00","closed_at":"2026-02-20T12:08:18.760870656-08:00","close_reason":"Script executor with exit code mapping","dependencies":[{"issue_id":"cloche-hu2","depends_on_id":"cloche-kcf","type":"blocks","created_at":"2026-02-20T11:04:18.59920772-08:00","created_by":"lucas"}]}
{"id":"cloche-i6e","title":"Parse collect in DSL","description":"Add parseCollect method to DSL parser. Recognize collect all/any syntax in wiring section. Add parser tests. Implementation plan Task 6.","status":"closed","priority":2,"issue_type":"task","owner":"lucas@perfectlunacy.com","created_at":"2026-02-20T20:24:52.107754715-08:00","created_by":"lucas","updated_at":"2026-02-20T20:35:13.758410411-08:00","closed_at":"2026-02-20T20:35:13.758413066-08:00","dependencies":[{"issue_id":"cloche-i6e","depends_on_id":"cloche-lgy","type":"blocks","created_at":"2026-02-20T20:24:52.108958013-08:00","created_by":"lucas"}]}
{"id":"cloche-ikv","title":"Update example workflows","description":"- type: task","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-02-20T20:21:14.719233121-08:00","updated_at":"2026-02-20T20:23:00.287387199-08:00","deleted_at":"2026-02-20T20:23:00.287387199-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"cloche-j2e","title":"Rewrite engine as DAG walker","description":"- type: task","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-02-20T20:21:14.717005128-08:00","updated_at":"2026-02-20T20:23:00.287387199-08:00","deleted_at":"2026-02-20T20:23:00.287387199-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"cloche-jf5","title":"DSL Mutator (Branch C)","description":"Deterministic Go code for additive workflow modifications: AddStep, AddWiring, UpdateCollect. Validates results via Parse(). See Task 14 in docs/plans/2026-02-24-self-evolution-implementation.md","status":"closed","priority":2,"issue_type":"task","owner":"lucas@perfectlunacy.com","estimated_minutes":30,"created_at":"2026-02-24T10:07:52.854053944-08:00","created_by":"lucas","updated_at":"2026-02-24T10:23:16.836067031-08:00","closed_at":"2026-02-24T10:23:16.836067031-08:00","close_reason":"Closed","labels":["evolution"]}
{"id":"cloche-kcf","title":"Define port interfaces","description":"RunStore, CaptureStore, ContainerRuntime, AgentAdapter interfaces. See implementation plan Task 8.","status":"closed","priority":2,"issue_type":"task","owner":"lucas@perfectlunacy.com","created_at":"2026-02-20T11:04:18.554107004-08:00","created_by":"lucas","updated_at":"2026-02-20T12:06:53.648388246-08:00","closed_at":"2026-02-20T12:06:53.648388246-08:00","close_reason":"RunStore, CaptureStore, ContainerRuntime, AgentAdapter interfaces","dependencies":[{"issue_id":"cloche-kcf","depends_on_id":"cloche-ucq","type":"blocks","created_at":"2026-02-20T11:04:18.555399597-08:00","created_by":"lucas"},{"issue_id":"cloche-kcf","depends_on_id":"cloche-52f","type":"blocks","created_at":"2026-02-20T11:04:18.557017495-08:00","created_by":"lucas"}]}
{"id":"cloche-l1z","title":"Docker container runtime adapter","description":"Docker SDK adapter implementing ContainerRuntime port. See implementation plan Task 14.","status":"closed","priority":1,"issue_type":"task","owner":"lucas@perfectlunacy.com","created_at":"2026-02-20T11:04:18.811883905-08:00","created_by":"lucas","updated_at":"2026-02-20T13:04:21.936794423-08:00","closed_at":"2026-02-20T13:04:21.936794423-08:00","close_reason":"Closed","dependencies":[{"issue_id":"cloche-l1z","depends_on_id":"cloche-kcf","type":"blocks","created_at":"2026-02-20T11:04:18.813068133-08:00","created_by":"lucas"}]}
{"id":"cloche-lgy","title":"Add domain types for Collect","description":"Add CollectMode, WireCondition, and Collect types to internal/domain/workflow.go. Add Collects field to Workflow struct. See implementation plan Task 1.","status":"closed","priority":2,"issue_type":"task","owner":"lucas@perfectlunacy.com","created_at":"2026-02-20T20:24:07.790937324-08:00","created_by":"lucas","updated_at":"2026-02-20T20:31:16.30700541-08:00","closed_at":"2026-02-20T20:31:16.307007864-08:00"}
{"id":"cloche-m4u","title":"Add result extraction protocol","description":"- type: task","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-02-20T20:21:14.71330205-08:00","updated_at":"2026-02-20T20:23:00.287387199-08:00","deleted_at":"2026-02-20T20:23:00.287387199-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"cloche-myv","title":"SQLite schema migration for evolution","description":"Add project_dir to runs, prompt_text/agent_output/attempt_number to step_executions, create evolution_log table. See Task 2 in docs/plans/2026-02-24-self-evolution-implementation.md","status":"closed","priority":2,"issue_type":"task","owner":"lucas@perfectlunacy.com","estimated_minutes":20,"created_at":"2026-02-24T10:07:23.757804657-08:00","created_by":"lucas","updated_at":"2026-02-24T10:28:12.968194838-08:00","closed_at":"2026-02-24T10:28:12.968194838-08:00","close_reason":"Closed","labels":["evolution"],"dependencies":[{"issue_id":"cloche-myv","depends_on_id":"cloche-e5l","type":"blocks","created_at":"2026-02-24T10:09:29.56719227-08:00","created_by":"lucas"}]}
{"id":"cloche-nh0","title":"Replace NextStep with NextSteps","description":"Add NextSteps returning []string for fanout support. Keep NextStep as deprecated wrapper. Update tests. Implementation plan Task 2.","status":"closed","priority":2,"issue_type":"task","owner":"lucas@perfectlunacy.com","created_at":"2026-02-20T20:24:24.11250523-08:00","created_by":"lucas","updated_at":"2026-02-20T20:35:13.721256214-08:00","closed_at":"2026-02-20T20:35:13.721259169-08:00","dependencies":[{"issue_id":"cloche-nh0","depends_on_id":"cloche-lgy","type":"blocks","created_at":"2026-02-20T20:24:24.114013035-08:00","created_by":"lucas"}]}
{"id":"cloche-nq9","title":"Protobuf API definitions","description":"cloche.proto with ClocheService (RunWorkflow, GetStatus, StreamLogs, StopRun, ListRuns). See implementation plan Task 12.","status":"closed","priority":2,"issue_type":"task","owner":"lucas@perfectlunacy.com","created_at":"2026-02-20T11:04:18.730377106-08:00","created_by":"lucas","updated_at":"2026-02-20T13:04:21.97139823-08:00","closed_at":"2026-02-20T13:04:21.97139823-08:00","close_reason":"Closed","dependencies":[{"issue_id":"cloche-nq9","depends_on_id":"cloche-fv2","type":"blocks","created_at":"2026-02-20T11:04:18.731703983-08:00","created_by":"lucas"}]}
{"id":"cloche-oa5","title":"Prompt Curator (Branch A)","description":"ACE-style prompt curation: merge lessons as structured bullets, dedup, snapshot pre-change state. See Task 12 in docs/plans/2026-02-24-self-evolution-implementation.md","status":"closed","priority":2,"issue_type":"task","owner":"lucas@perfectlunacy.com","estimated_minutes":20,"created_at":"2026-02-24T10:07:52.778505766-08:00","created_by":"lucas","updated_at":"2026-02-24T11:03:14.113618634-08:00","closed_at":"2026-02-24T11:03:14.113618634-08:00","close_reason":"Closed","labels":["evolution"],"dependencies":[{"issue_id":"cloche-oa5","depends_on_id":"cloche-osk","type":"blocks","created_at":"2026-02-24T10:09:29.918535374-08:00","created_by":"lucas"}]}
{"id":"cloche-osk","title":"Evolution Reflector stage","description":"ACE-style lesson extraction from execution traces. Structured lessons with confidence levels. See Task 11 in docs/plans/2026-02-24-self-evolution-implementation.md","status":"closed","priority":2,"issue_type":"task","owner":"lucas@perfectlunacy.com","estimated_minutes":20,"created_at":"2026-02-24T10:07:52.739151519-08:00","created_by":"lucas","updated_at":"2026-02-24T10:41:50.529265221-08:00","closed_at":"2026-02-24T10:41:50.529265221-08:00","close_reason":"Closed","labels":["evolution"],"dependencies":[{"issue_id":"cloche-osk","depends_on_id":"cloche-0aa","type":"blocks","created_at":"2026-02-24T10:09:29.884318161-08:00","created_by":"lucas"}]}
{"id":"cloche-q6n","title":"Update Run model for concurrent steps","description":"- type: task","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-02-20T20:21:14.717730563-08:00","updated_at":"2026-02-20T20:23:00.287387199-08:00","deleted_at":"2026-02-20T20:23:00.287387199-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"cloche-sdc","title":"EvolutionStore port and SQLite implementation","description":"Define EvolutionStore interface (SaveEvolution, GetLastEvolution, ListRunsSince) and implement on SQLite Store. See Task 3 in docs/plans/2026-02-24-self-evolution-implementation.md","status":"closed","priority":2,"issue_type":"task","owner":"lucas@perfectlunacy.com","estimated_minutes":20,"created_at":"2026-02-24T10:07:35.154118688-08:00","created_by":"lucas","updated_at":"2026-02-24T10:28:13.006092287-08:00","closed_at":"2026-02-24T10:28:13.006092287-08:00","close_reason":"Closed","labels":["evolution"],"dependencies":[{"issue_id":"cloche-sdc","depends_on_id":"cloche-myv","type":"blocks","created_at":"2026-02-24T10:09:29.60418848-08:00","created_by":"lucas"}]}
{"id":"cloche-u6c","title":"DSL parser","description":"Parser that converts tokens into domain.Workflow. Handles steps, fields, wiring, container blocks. See implementation plan Task 5.","status":"closed","priority":1,"issue_type":"task","owner":"lucas@perfectlunacy.com","created_at":"2026-02-20T11:04:18.428363172-08:00","created_by":"lucas","updated_at":"2026-02-20T12:06:53.577444897-08:00","closed_at":"2026-02-20T12:06:53.577444897-08:00","close_reason":"Parser with type inference, container blocks, wiring","dependencies":[{"issue_id":"cloche-u6c","depends_on_id":"cloche-ucq","type":"blocks","created_at":"2026-02-20T11:04:18.429550055-08:00","created_by":"lucas"},{"issue_id":"cloche-u6c","depends_on_id":"cloche-8bi","type":"blocks","created_at":"2026-02-20T11:04:18.431125553-08:00","created_by":"lucas"}]}
{"id":"cloche-ucq","title":"Workflow domain types","description":"Workflow, Step, Result, Wire types with Validate() and NextStep(). See implementation plan Task 2.","status":"closed","priority":1,"issue_type":"task","owner":"lucas@perfectlunacy.com","created_at":"2026-02-20T11:04:18.308280098-08:00","created_by":"lucas","updated_at":"2026-02-20T12:05:00.373106033-08:00","closed_at":"2026-02-20T12:05:00.373106033-08:00","close_reason":"Workflow, Step, Wire types with Validate and NextStep","dependencies":[{"issue_id":"cloche-ucq","depends_on_id":"cloche-fv2","type":"blocks","created_at":"2026-02-20T11:04:18.309484264-08:00","created_by":"lucas"}]}
{"id":"cloche-vrg","title":"Evolution integration test","description":"End-to-end test with scripted LLM exercising full pipeline. See Task 19 in docs/plans/2026-02-24-self-evolution-implementation.md","status":"closed","priority":2,"issue_type":"task","owner":"lucas@perfectlunacy.com","estimated_minutes":20,"created_at":"2026-02-24T10:07:53.046568618-08:00","created_by":"lucas","updated_at":"2026-02-24T11:10:08.029374546-08:00","closed_at":"2026-02-24T11:10:08.029374546-08:00","close_reason":"Closed","labels":["evolution"],"dependencies":[{"issue_id":"cloche-vrg","depends_on_id":"cloche-4ie","type":"blocks","created_at":"2026-02-24T10:09:30.308637633-08:00","created_by":"lucas"}]}
{"id":"cloche-y5x","title":"Evolution Orchestrator","description":"Main pipeline wiring: Collector -\u003e Classifier -\u003e Reflector -\u003e branch routing -\u003e AuditLogger. See Task 16 in docs/plans/2026-02-24-self-evolution-implementation.md","status":"closed","priority":2,"issue_type":"task","owner":"lucas@perfectlunacy.com","estimated_minutes":25,"created_at":"2026-02-24T10:07:52.930451072-08:00","created_by":"lucas","updated_at":"2026-02-24T11:03:14.186375127-08:00","closed_at":"2026-02-24T11:03:14.186375127-08:00","close_reason":"Closed","labels":["evolution"],"dependencies":[{"issue_id":"cloche-y5x","depends_on_id":"cloche-oa5","type":"blocks","created_at":"2026-02-24T10:09:30.023409923-08:00","created_by":"lucas"},{"issue_id":"cloche-y5x","depends_on_id":"cloche-cu5","type":"blocks","created_at":"2026-02-24T10:09:30.057960664-08:00","created_by":"lucas"},{"issue_id":"cloche-y5x","depends_on_id":"cloche-jf5","type":"blocks","created_at":"2026-02-24T10:09:30.093320331-08:00","created_by":"lucas"},{"issue_id":"cloche-y5x","depends_on_id":"cloche-3hj","type":"blocks","created_at":"2026-02-24T10:09:30.12926535-08:00","created_by":"lucas"}]}
{"id":"cloche-zgh","title":"Status protocol extensions for capture","description":"Add PromptText, AgentOutput, AttemptNumber fields to StatusMessage. Add StepStartedWithPrompt and StepCompletedWithCapture methods to StatusWriter. See Task 4 in docs/plans/2026-02-24-self-evolution-implementation.md","status":"closed","priority":2,"issue_type":"task","owner":"lucas@perfectlunacy.com","estimated_minutes":15,"created_at":"2026-02-24T10:07:35.196872961-08:00","created_by":"lucas","updated_at":"2026-02-24T10:28:13.044962845-08:00","closed_at":"2026-02-24T10:28:13.044962845-08:00","close_reason":"Closed","labels":["evolution"],"dependencies":[{"issue_id":"cloche-zgh","depends_on_id":"cloche-e5l","type":"blocks","created_at":"2026-02-24T10:09:29.638987781-08:00","created_by":"lucas"}]}
