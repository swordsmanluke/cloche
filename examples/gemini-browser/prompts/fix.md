Fix the Rust code based on the validation failures below.
Only modify files that need fixing. Do not rewrite the entire project.

Focus on:
1. Compiler errors first (the code must compile)
2. Test failures second (all tests must pass)
3. Clippy warnings last (must be warning-free under -D warnings)
4. Formatting issues (must pass cargo fmt --check)

Read the error output carefully. Fix the root cause, not symptoms.
